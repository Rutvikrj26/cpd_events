============================= test session starts ==============================
platform darwin -- Python 3.13.4, pytest-8.4.2, pluggy-1.6.0
django: version: 6.0, settings: config.settings.development (from env)
rootdir: /Users/rutvikrj26/Desktop/cpd_events/backend
configfile: pyproject.toml
plugins: cov-4.1.0, django-4.11.1, Faker-22.7.0
collected 4 items

src/organizations/tests/test_plans_and_billing.py FEEE                   [100%]

==================================== ERRORS ====================================
_ ERROR at setup of TestOrganizationPlansAndBilling.test_upgrade_subscription __

self = <django.db.backends.utils.CursorWrapper object at 0x10ffa5490>
sql = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...d_this_period") VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:29.445177', '2025-12-31 20:53:29.445263', 'fb118f20bf3f4f388fb7c50b1c9ef869', 1, 'organization', 'active', ...)
ignored_wrapper_args = (False, {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>, 'cursor': <django.db.backends.utils.CursorWrapper object at 0x10ffa5490>})

    def _execute(self, sql, params, *ignored_wrapper_args):
        # Raise a warning during app initialization (stored_app_configs is only
        # ever set during testing).
        if not apps.ready and not apps.stored_app_configs:
            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)
        self.db.validate_no_broken_transaction()
        with self.db.wrap_database_errors:
            if params is None:
                # params default might be backend specific.
                return self.cursor.execute(sql)
            else:
>               return self.cursor.execute(sql, params)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff81130>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:29.445177', '2025-12-31 20:53:29.445263', 'fb118f20bf3f4f388fb7c50b1c9ef869', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       sqlite3.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError

The above exception was the direct cause of the following exception:

organizer = <User: Test Organizer <organizer@example.com>>

    @pytest.fixture
    def organization(organizer):
        # Create user subscription (required for OrganizationViewSet access)
        from billing.models import Subscription
>       Subscription.objects.create(
            user=organizer,
            plan='organization',
            status='active'
        )

src/organizations/tests/test_plans_and_billing.py:12: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:669: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.13/site-packages/django/db/models/base.py:874: in save
    self.save_base(
.venv/lib/python3.13/site-packages/django/db/models/base.py:966: in save_base
    updated = self._save_table(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1167: in _save_table
    results = self._do_insert(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1218: in _do_insert
    return manager._insert(
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:1918: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py:1925: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/utils.py:94: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff81130>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:29.445177', '2025-12-31 20:53:29.445263', 'fb118f20bf3f4f388fb7c50b1c9ef869', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       django.db.utils.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError
_ ERROR at setup of TestOrganizationPlansAndBilling.test_invite_organizer_external _

self = <django.db.backends.utils.CursorWrapper object at 0x1119cb650>
sql = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...d_this_period") VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.056468', '2025-12-31 20:53:30.056483', '7884a86c0cd94b6ea9bc4b30ae5be46a', 1, 'organization', 'active', ...)
ignored_wrapper_args = (False, {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>, 'cursor': <django.db.backends.utils.CursorWrapper object at 0x1119cb650>})

    def _execute(self, sql, params, *ignored_wrapper_args):
        # Raise a warning during app initialization (stored_app_configs is only
        # ever set during testing).
        if not apps.ready and not apps.stored_app_configs:
            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)
        self.db.validate_no_broken_transaction()
        with self.db.wrap_database_errors:
            if params is None:
                # params default might be backend specific.
                return self.cursor.execute(sql)
            else:
>               return self.cursor.execute(sql, params)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff83380>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.056468', '2025-12-31 20:53:30.056483', '7884a86c0cd94b6ea9bc4b30ae5be46a', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       sqlite3.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError

The above exception was the direct cause of the following exception:

organizer = <User: Test Organizer <organizer@example.com>>

    @pytest.fixture
    def organization(organizer):
        # Create user subscription (required for OrganizationViewSet access)
        from billing.models import Subscription
>       Subscription.objects.create(
            user=organizer,
            plan='organization',
            status='active'
        )

src/organizations/tests/test_plans_and_billing.py:12: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:669: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.13/site-packages/django/db/models/base.py:874: in save
    self.save_base(
.venv/lib/python3.13/site-packages/django/db/models/base.py:966: in save_base
    updated = self._save_table(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1167: in _save_table
    results = self._do_insert(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1218: in _do_insert
    return manager._insert(
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:1918: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py:1925: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/utils.py:94: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff83380>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.056468', '2025-12-31 20:53:30.056483', '7884a86c0cd94b6ea9bc4b30ae5be46a', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       django.db.utils.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError
_ ERROR at setup of TestOrganizationPlansAndBilling.test_invite_organizer_non_existent _

self = <django.db.backends.utils.CursorWrapper object at 0x110104830>
sql = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...d_this_period") VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.593286', '2025-12-31 20:53:30.593295', '23fb849c5c0e4e40a461b0830584f4d3', 1, 'organization', 'active', ...)
ignored_wrapper_args = (False, {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>, 'cursor': <django.db.backends.utils.CursorWrapper object at 0x110104830>})

    def _execute(self, sql, params, *ignored_wrapper_args):
        # Raise a warning during app initialization (stored_app_configs is only
        # ever set during testing).
        if not apps.ready and not apps.stored_app_configs:
            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)
        self.db.validate_no_broken_transaction()
        with self.db.wrap_database_errors:
            if params is None:
                # params default might be backend specific.
                return self.cursor.execute(sql)
            else:
>               return self.cursor.execute(sql, params)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff82ba0>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.593286', '2025-12-31 20:53:30.593295', '23fb849c5c0e4e40a461b0830584f4d3', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       sqlite3.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError

The above exception was the direct cause of the following exception:

organizer = <User: Test Organizer <organizer@example.com>>

    @pytest.fixture
    def organization(organizer):
        # Create user subscription (required for OrganizationViewSet access)
        from billing.models import Subscription
>       Subscription.objects.create(
            user=organizer,
            plan='organization',
            status='active'
        )

src/organizations/tests/test_plans_and_billing.py:12: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:669: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.13/site-packages/django/db/models/base.py:874: in save
    self.save_base(
.venv/lib/python3.13/site-packages/django/db/models/base.py:966: in save_base
    updated = self._save_table(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1167: in _save_table
    results = self._do_insert(
.venv/lib/python3.13/site-packages/django/db/models/base.py:1218: in _do_insert
    return manager._insert(
.venv/lib/python3.13/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/query.py:1918: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py:1925: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/django/db/utils.py:94: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.13/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x10ff82ba0>
query = 'INSERT INTO "subscriptions" ("created_at", "updated_at", "uuid", "user_id", "plan", "status", "stripe_subscription_id...rtificates_issued_this_period") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "subscriptions"."id"'
params = ('2025-12-31 20:53:30.593286', '2025-12-31 20:53:30.593295', '23fb849c5c0e4e40a461b0830584f4d3', 1, 'organization', 'active', ...)

    def execute(self, query, params=None):
        if params is None:
            return super().execute(query)
        # Extract names if params is a mapping, i.e. "pyformat" style is used.
        param_names = list(params) if isinstance(params, Mapping) else None
        query = self.convert_query(query, param_names=param_names)
>       return super().execute(query, params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       django.db.utils.IntegrityError: UNIQUE constraint failed: subscriptions.user_id

.venv/lib/python3.13/site-packages/django/db/backends/sqlite3/base.py:359: IntegrityError
=================================== FAILURES ===================================
________________ TestOrganizationPlansAndBilling.test_get_plans ________________

self = <organizations.tests.test_plans_and_billing.TestOrganizationPlansAndBilling object at 0x10e54c910>
organizer_client = <rest_framework.test.APIClient object at 0x10e65c050>

    def test_get_plans(self, organizer_client):
        response = organizer_client.get('/api/v1/organizations/plans/')
        assert response.status_code == 200
        assert 'free' in response.data
        assert 'team' in response.data
>       assert response.data['team']['name'] == 'Team'
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       KeyError: 'name'

src/organizations/tests/test_plans_and_billing.py:44: KeyError
---------------------------- Captured stdout setup -----------------------------
Migrated 0 starter subscriptions to professional
Migrated 0 premium subscriptions to organization
Migrated 0 subscriptions from 'organizer' to 'professional'
=============================== warnings summary ===============================
src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_get_plans
  /Users/rutvikrj26/Desktop/cpd_events/backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py:62: UserWarning: No directory at: /Users/rutvikrj26/Desktop/cpd_events/backend/src/staticfiles/
    mw_instance = middleware(adapted_handler)

src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_get_plans
  /Users/rutvikrj26/Desktop/cpd_events/backend/.venv/lib/python3.13/site-packages/drf_yasg/views.py:100: DeprecationWarning: SwaggerJSONRenderer & SwaggerYAMLRenderer's `format` has changed to not include a `.` prefix, please silence this warning by setting `SWAGGER_USE_COMPAT_RENDERERS = False` in your Django settings and ensure your application works (check your URLCONF and swagger/redoc URLs).
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_get_plans
ERROR src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_upgrade_subscription
ERROR src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_invite_organizer_external
ERROR src/organizations/tests/test_plans_and_billing.py::TestOrganizationPlansAndBilling::test_invite_organizer_non_existent
=================== 1 failed, 2 warnings, 3 errors in 13.27s ===================
